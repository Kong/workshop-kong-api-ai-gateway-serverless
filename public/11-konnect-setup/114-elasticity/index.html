<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.149.0">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="One of the most important capabilities provided by Kubernetes is to easily scale out a Deployment. With a single command we can create or terminate pod replicas in order to optimally support a given throughput.
This capability is especially interesting for Kubernetes applications like Kong for Kubernetes Ingress Controller.
Here’s our deployment before scaling it out:
kubectl get service -n kong Sample Output
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE dataplane-admin-dataplane1-wjk92 ClusterIP None &lt;none&gt; 8444/TCP 4d21h proxy1 LoadBalancer 10.110.77.48 127.0.0.1 80:32462/TCP,443:31666/TCP 4d21h Notice, at this point in the workshop, there is only one pod taking data plane traffic.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Data Plane Elasticity :: API Management with Kong Konnect">
    <meta name="twitter:description" content="One of the most important capabilities provided by Kubernetes is to easily scale out a Deployment. With a single command we can create or terminate pod replicas in order to optimally support a given throughput.
This capability is especially interesting for Kubernetes applications like Kong for Kubernetes Ingress Controller.
Here’s our deployment before scaling it out:
kubectl get service -n kong Sample Output
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE dataplane-admin-dataplane1-wjk92 ClusterIP None &lt;none&gt; 8444/TCP 4d21h proxy1 LoadBalancer 10.110.77.48 127.0.0.1 80:32462/TCP,443:31666/TCP 4d21h Notice, at this point in the workshop, there is only one pod taking data plane traffic.">
    <meta property="og:url" content="http://localhost:1313/11-konnect-setup/114-elasticity/index.html">
    <meta property="og:site_name" content="API Management with Kong Konnect">
    <meta property="og:title" content="Data Plane Elasticity :: API Management with Kong Konnect">
    <meta property="og:description" content="One of the most important capabilities provided by Kubernetes is to easily scale out a Deployment. With a single command we can create or terminate pod replicas in order to optimally support a given throughput.
This capability is especially interesting for Kubernetes applications like Kong for Kubernetes Ingress Controller.
Here’s our deployment before scaling it out:
kubectl get service -n kong Sample Output
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE dataplane-admin-dataplane1-wjk92 ClusterIP None &lt;none&gt; 8444/TCP 4d21h proxy1 LoadBalancer 10.110.77.48 127.0.0.1 80:32462/TCP,443:31666/TCP 4d21h Notice, at this point in the workshop, there is only one pod taking data plane traffic.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Konnect Setup">
    <meta itemprop="name" content="Data Plane Elasticity :: API Management with Kong Konnect">
    <meta itemprop="description" content="One of the most important capabilities provided by Kubernetes is to easily scale out a Deployment. With a single command we can create or terminate pod replicas in order to optimally support a given throughput.
This capability is especially interesting for Kubernetes applications like Kong for Kubernetes Ingress Controller.
Here’s our deployment before scaling it out:
kubectl get service -n kong Sample Output
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE dataplane-admin-dataplane1-wjk92 ClusterIP None &lt;none&gt; 8444/TCP 4d21h proxy1 LoadBalancer 10.110.77.48 127.0.0.1 80:32462/TCP,443:31666/TCP 4d21h Notice, at this point in the workshop, there is only one pod taking data plane traffic.">
    <meta itemprop="wordCount" content="1006">
    <title>Data Plane Elasticity :: API Management with Kong Konnect</title>
    <link href="/css/auto-complete/auto-complete.min.css?1757021797" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1757021797" defer></script>
    <script src="/js/search-lunr.js?1757021797" defer></script>
    <script src="/js/search.js?1757021797" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1757021797";
    </script>
    <script src="/js/lunr/lunr.min.js?1757021797" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1757021797" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1757021797" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1757021797" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1757021797" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1757021797" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1757021797" rel="stylesheet">
    <link href="/css/theme.css?1757021797" rel="stylesheet">
    <link href="/css/format-html.css?1757021797" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/11-konnect-setup\/114-elasticity\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'blue' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/11-konnect-setup/114-elasticity/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#manual-scaling-out">Manual Scaling Out</a></li>
        <li><a href="#hpa---horizontal-autoscaler">HPA - Horizontal Autoscaler</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">API Management with Kong Konnect</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/11-konnect-setup/index.html"><span itemprop="name">Konnect Setup</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Data Plane Elasticity</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/11-konnect-setup/113-cp-dp/index.html" title="Control Plane and Data Plane (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/12-api-gateway/index.html" title="Kong API Gateway (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 11-konnect-setup" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="data-plane-elasticity">Data Plane Elasticity</h1>

<p>One of the most important capabilities provided by Kubernetes is to easily scale out a Deployment. With a single command we can create or terminate pod replicas in order to optimally support a given throughput.</p>
<p>This capability is especially interesting for Kubernetes applications like Kong for Kubernetes Ingress Controller.</p>
<p>Here&rsquo;s our deployment before scaling it out:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get service -n kong</code></pre></div>

<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>NAME                               TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE
dataplane-admin-dataplane1-wjk92   ClusterIP      None            &lt;none&gt;        8444/TCP                     4d21h
proxy1                             LoadBalancer   10.110.77.48    127.0.0.1     80:32462/TCP,443:31666/TCP   4d21h</code></pre></div>
<p>Notice, at this point in the workshop, there is only one pod taking data plane traffic.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get pod -n kong -o wide</code></pre></div>

<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>NAME                                          READY   STATUS    RESTARTS      AGE     IP            NODE       NOMINATED NODE   READINESS GATES
dataplane-dataplane1-2pvw2-67fbd76d98-jxhfd   1/1     Running   1 (40h ago)   4d21h   10.244.0.82   minikube   &lt;none&gt;           &lt;none&gt;</code></pre></div>
<h3 id="manual-scaling-out">Manual Scaling Out</h3>
<p>Now, let&rsquo;s scale the deployment out creating 3 replicas of the pod</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: gateway-operator.konghq.com/v1beta1
kind: DataPlane
metadata:
 name: dataplane1
 namespace: kong
spec:
 extensions:
 - kind: KonnectExtension
   name: konnect-config1
   group: konnect.konghq.com
 deployment:
   podTemplateSpec:
     spec:
       containers:
       - name: proxy
         image: kong/kong-gateway:3.11
   replicas: 3
 network:
   services:
     ingress:
       name: proxy1
       type: LoadBalancer
EOF</code></pre></div>

<p>Check the Deployment again and now you should see 3 replicas of the pod.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get pod -n kong -o wide</code></pre></div>

<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>NAME                                          READY   STATUS    RESTARTS   AGE     IP              NODE                                          NOMINATED NODE   READINESS GATES
dataplane-dataplane1-ch6g9-6889fdf76b-5gjh9   1/1     Running   0          20h     192.168.61.40   ip-192-168-44-68.us-east-2.compute.internal   &lt;none&gt;           &lt;none&gt;
dataplane-dataplane1-ch6g9-6889fdf76b-9gt4s   1/1     Running   0          6m15s   192.168.52.45   ip-192-168-44-68.us-east-2.compute.internal   &lt;none&gt;           &lt;none&gt;
dataplane-dataplane1-ch6g9-6889fdf76b-mrjdx   1/1     Running   0          6m15s   192.168.36.12   ip-192-168-44-68.us-east-2.compute.internal   &lt;none&gt;           &lt;none&gt;</code></pre></div>
<p>As we can see, the 2 new Pods have been created and are up and running. If we check our Kubernetes Service again, we will see it has been updated with the new IP addresses. That allows the Service to implement Load Balancing across the Pod replicas.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl describe service proxy1 -n kong</code></pre></div>

<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Name:                     proxy1
Namespace:                kong
Labels:                   app=dataplane1
                          gateway-operator.konghq.com/dataplane-service-state=live
                          gateway-operator.konghq.com/dataplane-service-type=ingress
                          gateway-operator.konghq.com/managed-by=dataplane
Annotations:              &lt;none&gt;
Selector:                 app=dataplane1,gateway-operator.konghq.com/selector=8525cad1-ca9c-42c5-9c19-a053a25ff580
Type:                     LoadBalancer
IP Family Policy:         SingleStack
IP Families:              IPv4
IP:                       10.110.155.140
IPs:                      10.110.155.140
LoadBalancer Ingress:     127.0.0.1 (VIP)
Port:                     http  80/TCP
TargetPort:               8000/TCP
NodePort:                 http  30164/TCP
Endpoints:                10.244.0.89:8000,10.244.0.91:8000,10.244.0.90:8000
Port:                     https  443/TCP
TargetPort:               8443/TCP
NodePort:                 https  32512/TCP
Endpoints:                10.244.0.89:8443,10.244.0.91:8443,10.244.0.90:8443
Session Affinity:         None
External Traffic Policy:  Cluster
Internal Traffic Policy:  Cluster
Events:                   &lt;none&gt;</code></pre></div>
<p>Reduce the number of Pods to 1 again running as now we will turn on Horizontal pod autoscalar.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: gateway-operator.konghq.com/v1beta1
kind: DataPlane
metadata:
 name: dataplane1
 namespace: kong
spec:
 extensions:
 - kind: KonnectExtension
   name: konnect-config1
   group: konnect.konghq.com
 deployment:
   podTemplateSpec:
     spec:
       containers:
       - name: proxy
         image: kong/kong-gateway:3.11
   replicas: 1
 network:
   services:
     ingress:
       name: proxy1
       type: LoadBalancer
EOF</code></pre></div>

<h3 id="hpa---horizontal-autoscaler">HPA - Horizontal Autoscaler</h3>
<p>HPA (“Horizontal Pod Autoscaler”) is the Kubernetes resource to automatically control the number of replicas of Pods. With HPA, Kubernetes is able to support the requests produced by the consumers, keeping a given Service Level.</p>
<p>Based on CPU utilization or custom metrics, HPA starts and terminates Pods replicas updating all service data to help on the load balancing policies over those replicas.</p>
<p>HPA is described at <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" rel="external" target="_blank">https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/</a>. Also, there&rsquo;s a nice walkthrough at <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/" rel="external" target="_blank">https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/</a></p>
<p>Kubernetes defines its own units for cpu and memory. You can read more about it at: <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" rel="external" target="_blank">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a>. We use these units to set our Deployments with HPA.</p>
<h4 id="metrics-server">Metrics Server</h4>
<p>HPA relies no the Metrics Server to control the number of replicas of a given deployment. Check it as follows:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get pod -n kube-system -o json | jq -r &#39;.items[].metadata | select(.name | startswith(&#34;metrics-server-&#34;))&#39; | jq -r &#39;.name&#39;</code></pre></div>

<p>Now you should see two <em>metrics-server-</em> pods in <em>Running</em> state</p>
<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>metrics-server-7fbb699795-5qqp5</code></pre></div>
<h4 id="turn-hpa-on">Turn HPA on</h4>
<p>Still using the Operator, let&rsquo;s upgrade our Data Plane deployment including new and specific settings for HPA. The new settings are defining the ammount of CPU and memory each Pod should allocate. At the same time, the &ldquo;scaling&rdquo; sets are telling HPA how to proceed to instantiate new Pod replicas.</p>
<p>Here&rsquo;s the final declaration:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: gateway-operator.konghq.com/v1beta1
kind: DataPlane
metadata:
 name: dataplane1
 namespace: kong
spec:
 extensions:
 - kind: KonnectExtension
   name: konnect-config1
   group: konnect.konghq.com
 deployment:
   podTemplateSpec:
     spec:
       containers:
       - name: proxy
         image: kong/kong-gateway:3.11
         resources:
           requests:
             memory: &#34;300Mi&#34;
             cpu: &#34;300m&#34;
           limits:
             memory: &#34;800Mi&#34;
             cpu: &#34;1200m&#34;
   scaling:
     horizontal:
       minReplicas: 1
       maxReplicas: 20
       metrics:
       - type: Resource
         resource:
           name: cpu
           target:
             type: Utilization
             averageUtilization: 20
EOF</code></pre></div>

<h4 id="checking-hpa">Checking HPA</h4>
<p>After submitting the command check the Deployment again. Since we&rsquo;re not consume the Data Plane, we are supposed to see a single Pod running. In the next sections we&rsquo;re going to send requests to the Data Plane and new Pod will get created to handle them.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get pod -n kong</code></pre></div>

<p><strong>Sample Output</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>NAME                                          READY   STATUS    RESTARTS   AGE
dataplane-dataplane1-ch6g9-5fb9c6484b-kklw5   1/1     Running   0          73s</code></pre></div>
<p>You can check the HPA status with:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl get hpa -n kong</code></pre></div>

<p><strong>Send traffic</strong></p>
<p>We are going to use Fortio to consume the Data Plane and see the HPA in action. Note we are interested on sending traffic to the Data Plane only, so we are consuming a non-existing Route.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: v1
kind: Pod
metadata:
  name:  fortio
  labels:
    app: fortio
spec:
  containers:
  - name: fortio
    image: fortio/fortio
    args: [&#34;load&#34;, &#34;-c&#34;, &#34;100&#34;, &#34;-qps&#34;, &#34;500&#34;, &#34;-t&#34;, &#34;20m&#34;, &#34;-allow-initial-errors&#34;, &#34;http://proxy1.kong.svc.cluster.local:80/route1/get&#34;]
EOF</code></pre></div>

<p><strong>Sample Output</strong></p>
<p>Eventually, HPA will start a new replica:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>% kubectl get hpa -n kong
NAME         REFERENCE                               TARGETS       MINPODS   MAXPODS   REPLICAS   AGE
dataplane1   Deployment/dataplane-dataplane1-ch6g9   cpu: 2%/75%   1         20        2          14m

% kubectl get pod -n kong -o json | jq -r &#39;.items[].metadata.name&#39;
dataplane-dataplane1-ch6g9-8c6c9cfcd-qbqp5
dataplane-dataplane1-ch6g9-8c6c9cfcd-rxcwm</code></pre></div>
<p>If you delete the Fortio pod, HPA should terminate one pod and get back to 1 replica only.
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>kubectl delete pod fortio</code></pre></div>
</p>
<p><strong>Delete HPA</strong></p>
<p>Delete the HPA setting applying the original declaration</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: gateway-operator.konghq.com/v1beta1
kind: DataPlane
metadata:
 name: dataplane1
 namespace: kong
spec:
 extensions:
 - kind: KonnectExtension
   name: konnect-config1
   group: konnect.konghq.com
 deployment:
   podTemplateSpec:
     spec:
       containers:
       - name: proxy
         image: kong/kong-gateway:3.11
   replicas: 1
 network:
   services:
     ingress:
       name: proxy1
       type: LoadBalancer
EOF</code></pre></div>

<p>Kong-gratulations! have now reached the end of this module by implementing and successfully testing Horizontal Pod AutoScaling. You can now click <strong>Next</strong> to proceed with the next chapter.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/index.html">
            <div class="logo-title">API Management with Kong Konnect</div>
          </a>
        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/10-prerequisites/index.html"><a class="padding" href="/10-prerequisites/index.html">Prerequisites</a><ul id="R-subsections-cdc0df3ea972ffd3a9c45dea986dc8ab" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/architecture/index.html"><a class="padding" href="/architecture/index.html">Kong Konnect Architectural Overview</a></li>
            <li class="parent " data-nav-id="/11-konnect-setup/index.html"><a class="padding" href="/11-konnect-setup/index.html">Konnect Setup</a><ul id="R-subsections-fd457d3a7fac9b2f9cefa5c6c0dae1e7" class="collapsible-menu">
            <li class="" data-nav-id="/11-konnect-setup/111-kgo-installation/index.html"><a class="padding" href="/11-konnect-setup/111-kgo-installation/index.html">Kong Gateway Operator</a></li>
            <li class="" data-nav-id="/11-konnect-setup/112-personal-access-token/index.html"><a class="padding" href="/11-konnect-setup/112-personal-access-token/index.html">PAT - Personal Access Token</a></li>
            <li class="" data-nav-id="/11-konnect-setup/113-cp-dp/index.html"><a class="padding" href="/11-konnect-setup/113-cp-dp/index.html">Control Plane and Data Plane</a></li>
            <li class="active " data-nav-id="/11-konnect-setup/114-elasticity/index.html"><a class="padding" href="/11-konnect-setup/114-elasticity/index.html">Data Plane Elasticity</a></li></ul></li>
            <li class="" data-nav-id="/12-api-gateway/index.html"><a class="padding" href="/12-api-gateway/index.html">Kong API Gateway</a><ul id="R-subsections-edeba57bcdf65a92672ecb9c5ed9177f" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/16-ai-gateway/index.html"><a class="padding" href="/16-ai-gateway/index.html">Kong AI Gateway</a><ul id="R-subsections-2f2bf218915a29de3a144cfa324a5fc4" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/20-observability/index.html"><a class="padding" href="/20-observability/index.html">Observability</a><ul id="R-subsections-3829b558aa20efb46efd7e331dc0c9e9" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1757021797" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1757021797" defer></script>
    <script src="/js/theme.js?1757021797" defer></script>
  </body>
</html>
